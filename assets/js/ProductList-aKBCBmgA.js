import{j as e,a as c}from"./pro-components-DZ2pc8UX.js";import{g as d,a as l}from"./table-BpxgSBJd.js";import{u}from"./index-Bx-AT3VL.js";import{B as m,aL as x,aM as f,S as p}from"./antd-Douiaoyu.js";import{u as h}from"./router-DkG1YayG.js";import"./icons-CR8_1uKY.js";function g(){const t=u(a=>a.permissions);return{permissions:t,hasPermission:(a,r="any")=>{if(!a||t.includes("*:*:*")||t.includes("*"))return!0;const s=Array.isArray(a)?a:[a];return r==="any"?s.some(o=>t.includes(o)):s.every(o=>t.includes(o))}}}function i({permission:t,mode:n="any",fallback:a=null,children:r}){const{hasPermission:s}=g();return s(t,n)?e.jsx(e.Fragment,{children:r}):e.jsx(e.Fragment,{children:a})}const j=Array.from({length:20},(t,n)=>({id:n+1,name:`商品 ${n+1}`,price:Math.floor(Math.random()*1e4)/100,status:Math.random()>.3?"on":"off",category:["电子产品","食品饮料","服装鞋帽","家居用品"][n%4],createdAt:new Date(Date.now()-n*864e5).toISOString()}));function b(){const t=h(),n=[{title:"ID",dataIndex:"id",width:60,search:!1},{title:"商品名称",dataIndex:"name",ellipsis:!0},{title:"价格",dataIndex:"price",search:!1,render:(a,r)=>`¥${r.price.toFixed(2)}`},{title:"分类",dataIndex:"category",valueEnum:{电子产品:{text:"电子产品"},食品饮料:{text:"食品饮料"},服装鞋帽:{text:"服装鞋帽"},家居用品:{text:"家居用品"}}},{title:"状态",dataIndex:"status",valueEnum:{on:{text:"上架",status:"Success"},off:{text:"下架",status:"Default"}},render:(a,r)=>e.jsx(f,{color:r.status==="on"?"green":"default",children:r.status==="on"?"上架":"下架"})},{title:"操作",valueType:"option",render:(a,r)=>e.jsxs(p,{children:[e.jsx("a",{onClick:()=>t(`/demo/product/detail/${r.id}`),children:"查看"}),e.jsx(i,{permission:"product:edit",children:e.jsx("a",{onClick:()=>t(`/demo/product/edit/${r.id}`),children:"编辑"})})]})}];return e.jsx(c,{headerTitle:"商品列表",columns:n,dataSource:j,rowKey:"id",scroll:l,search:{labelWidth:"auto"},pagination:d,toolBarRender:()=>[e.jsx(i,{permission:"product:create",children:e.jsx(m,{type:"primary",icon:e.jsx(x,{}),onClick:()=>t("/demo/product/create"),children:"新增商品"})},"create")]})}export{b as default};
